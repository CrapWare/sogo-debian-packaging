variables:
    DEBFULLNAME: "GitLab CI"
    DEBEMAIL: "gitlabci@localhost"
    VERSION_TO_BUILD: "4.3.2"

stages:
    - lint
    - build

lint:scripts:
    stage: lint
    tags:
        - docker
    image: debian:stretch
    before_script:
        - apt-get update && apt-get install -y shellcheck
    script:
        - shellcheck build.sh

build:sogo:
    stage: build
    tags:
        - docker
    image: debian:jessie
    script:
        - ./build.sh
    artifacts:
        expire_in: 1 week
        when: always
        paths:
            - vendor/*.deb
